<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboards</title>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      margin: 0;
      padding: 20px;
      color: #2c3e50;
    }

    .dashboard {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .header h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #7f53ac, #647dee);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .extra-grid {
      display: flex;
      flex-direction: column;
      gap: 40px;
      margin-top: 40px;
    }

    .chart-container {
      background: linear-gradient(145deg, #ece9f0, #ffffff);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease;
    }

    .chart-title {
      text-align: center;
      font-weight: 600;
      font-size: 1.3rem;
      color: #4a4a80;
      margin-bottom: 20px;
    }

    svg {
      display: block;
      margin: auto;
      background: linear-gradient(to bottom, #dcdcff, #f4f4f4);
      border: 2px solid #a29bfe;
      border-radius: 10px;
    }

    .svg-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <div class="header">
      <h1>By Valeria Ramirez Hernandez</h1>
    </div>

        <div class="stats-grid" id="stats"></div>

        <div class="charts-grid">
            <div class="chart-container">
                <div class="chart-title">游늳 Ventas por Mes</div>
                <div id="barChart"></div>
            </div>

            <div class="chart-container">
                <div class="chart-title">游볺 Distribuci칩n por Categor칤a</div>
                <div id="pieChart"></div>
            </div>

            <div class="chart-container full-width">
                <div class="chart-title">游늵 Tendencia de Usuarios</div>
                <div id="lineChart"></div>
            </div>
        </div>
    </div>
  </div>

    <script>
        // Datos de ejemplo
        const salesData = [
            { month: 'Ene', sales: 45000, users: 1200 },
            { month: 'Feb', sales: 52000, users: 1350 },
            { month: 'Mar', sales: 48000, users: 1280 },
            { month: 'Abr', sales: 61000, users: 1450 },
            { month: 'May', sales: 55000, users: 1380 },
            { month: 'Jun', sales: 67000, users: 1520 }
        ];

        const categoryData = [
            { category: 'Electr칩nicos', value: 35, color: '#667eea' },
            { category: 'Ropa', value: 25, color: '#764ba2' },
            { category: 'Hogar', value: 20, color: '#f093fb' },
            { category: 'Deportes', value: 12, color: '#f5576c' },
            { category: 'Otros', value: 8, color: '#4facfe' }
        ];

        // Configuraci칩n general
        const tooltip = d3.select('#tooltip');

        // Funci칩n para mostrar tooltip
        function showTooltip(event, content) {
            tooltip
                .style('opacity', 1)
                .html(content)
                .style('left', (event.pageX + 10) + 'px')
                .style('top', (event.pageY - 10) + 'px');
        }

        function hideTooltip() {
            tooltip.style('opacity', 0);
        }

        // Crear tarjetas de estad칤sticas
        function createStatsCards() {
            const stats = [
                { label: 'Ventas Totales', value: '$328K', icon: '游눯' },
                { label: 'Usuarios Activos', value: '8.2K', icon: '游논' },
                { label: 'Productos', value: '1,247', icon: '游닍' },
                { label: 'Conversi칩n', value: '3.2%', icon: '游늳' }
            ];

            const statsContainer = d3.select('#stats');
            
            const cards = statsContainer.selectAll('.stat-card')
                .data(stats)
                .enter()
                .append('div')
                .attr('class', 'stat-card')
                .style('opacity', 0)
                .style('transform', 'translateY(20px)');

            cards.append('div')
                .attr('class', 'stat-value')
                .text(d => d.value);

            cards.append('div')
                .attr('class', 'stat-label')
                .text(d => `${d.icon} ${d.label}`);

            // Animaci칩n de entrada
            cards.transition()
                .duration(800)
                .delay((d, i) => i * 100)
                .style('opacity', 1)
                .style('transform', 'translateY(0)');
        }

        // Gr치fico de barras
        function createBarChart() {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const width = 400 - margin.left - margin.right;
            const height = 300 - margin.top - margin.bottom;

            const svg = d3.select('#barChart')
                .append('svg')
                .attr('width', width + margin.left + margin.right)
                .attr('height', height + margin.top + margin.bottom);

            const g = svg.append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(salesData.map(d => d.month))
                .range([0, width])
                .padding(0.2);

            const y = d3.scaleLinear()
                .domain([0, d3.max(salesData, d => d.sales)])
                .range([height, 0]);

            // Ejes
            g.append('g')
                .attr('class', 'axis')
                .attr('transform', `translate(0,${height})`)
                .call(d3.axisBottom(x));

            g.append('g')
                .attr('class', 'axis')
                .call(d3.axisLeft(y).tickFormat(d => `$${d/1000}K`));

            // Barras
            const bars = g.selectAll('.bar')
                .data(salesData)
                .enter()
                .append('rect')
                .attr('class', 'bar')
                .attr('x', d => x(d.month))
                .attr('width', x.bandwidth())
                .attr('y', height)
                .attr('height', 0)
                .attr('fill', 'url(#barGradient)');

            // Gradiente para las barras
            const defs = svg.append('defs');
            const gradient = defs.append('linearGradient')
                .attr('id', 'barGradient')
                .attr('gradientUnits', 'userSpaceOnUse')
                .attr('x1', 0).attr('y1', height)
                .attr('x2', 0).attr('y2', 0);

            gradient.append('stop')
                .attr('offset', '0%')
                .attr('stop-color', '#667eea');

            gradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', '#764ba2');

            // Animaci칩n y eventos
            bars.on('mouseover', function(event, d) {
                    showTooltip(event, `<strong>${d.month}</strong><br>Ventas: $${d.sales.toLocaleString()}`);
                })
                .on('mouseout', hideTooltip)
                .transition()
                .duration(800)
                .delay((d, i) => i * 100)
                .attr('y', d => y(d.sales))
                .attr('height', d => height - y(d.sales));
        }

        // Gr치fico circular (pie chart)
        function createPieChart() {
            const width = 350;
            const height = 300;
            const radius = Math.min(width, height) / 2 - 20;

            const svg = d3.select('#pieChart')
                .append('svg')
                .attr('width', width)
                .attr('height', height);

            const g = svg.append('g')
                .attr('transform', `translate(${width/2},${height/2})`);

            const pie = d3.pie()
                .value(d => d.value)
                .sort(null);

            const arc = d3.arc()
                .innerRadius(radius * 0.4)
                .outerRadius(radius);

            const arcHover = d3.arc()
                .innerRadius(radius * 0.4)
                .outerRadius(radius * 1.1);

            const arcs = g.selectAll('.arc')
                .data(pie(categoryData))
                .enter()
                .append('g')
                .attr('class', 'arc');

            arcs.append('path')
                .attr('d', arc)
                .attr('fill', d => d.data.color)
                .style('opacity', 0)
                .on('mouseover', function(event, d) {
                    d3.select(this)
                        .transition()
                        .duration(200)
                        .attr('d', arcHover);
                    showTooltip(event, `<strong>${d.data.category}</strong><br>${d.data.value}%`);
                })
                .on('mouseout', function() {
                    d3.select(this)
                        .transition()
                        .duration(200)
                        .attr('d', arc);
                    hideTooltip();
                })
                .transition()
                .duration(800)
                .delay((d, i) => i * 100)
                .style('opacity', 1);

            // Etiquetas
            arcs.append('text')
                .attr('transform', d => `translate(${arc.centroid(d)})`)
                .attr('text-anchor', 'middle')
                .style('font-size', '12px')
                .style('font-weight', 'bold')
                .style('fill', 'white')
                .style('opacity', 0)
                .text(d => d.data.value + '%')
                .transition()
                .duration(800)
                .delay((d, i) => i * 100 + 400)
                .style('opacity', 1);
        }

        // Gr치fico de l칤neas
        function createLineChart() {
            const margin = { top: 20, right: 30, bottom: 40, left: 60 };
            const width = 800 - margin.left - margin.right;
            const height = 300 - margin.top - margin.bottom;

            const svg = d3.select('#lineChart')
                .append('svg')
                .attr('width', width + margin.left + margin.right)
                .attr('height', height + margin.top + margin.bottom);

            const g = svg.append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(salesData.map(d => d.month))
                .range([0, width])
                .padding(0.1);

            const y = d3.scaleLinear()
                .domain([0, d3.max(salesData, d => d.users)])
                .range([height, 0]);

            const line = d3.line()
                .x(d => x(d.month) + x.bandwidth() / 2)
                .y(d => y(d.users))
                .curve(d3.curveMonotoneX);

            // Ejes
            g.append('g')
                .attr('class', 'axis')
                .attr('transform', `translate(0,${height})`)
                .call(d3.axisBottom(x));

            g.append('g')
                .attr('class', 'axis')
                .call(d3.axisLeft(y));

            // 츼rea bajo la l칤nea
            const area = d3.area()
                .x(d => x(d.month) + x.bandwidth() / 2)
                .y0(height)
                .y1(d => y(d.users))
                .curve(d3.curveMonotoneX);

            g.append('path')
                .datum(salesData)
                .attr('fill', 'url(#areaGradient)')
                .attr('opacity', 0.3)
                .attr('d', area);

            // Gradiente para el 치rea
            const defs = svg.append('defs');
            const areaGradient = defs.append('linearGradient')
                .attr('id', 'areaGradient')
                .attr('gradientUnits', 'userSpaceOnUse')
                .attr('x1', 0).attr('y1', height)
                .attr('x2', 0).attr('y2', 0);

            areaGradient.append('stop')
                .attr('offset', '0%')
                .attr('stop-color', '#667eea')
                .attr('stop-opacity', 0);

            areaGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', '#667eea')
                .attr('stop-opacity', 0.8);

            // L칤nea principal
            const path = g.append('path')
                .datum(salesData)
                .attr('class', 'line')
                .attr('d', line);

            // Animaci칩n de la l칤nea
            const totalLength = path.node().getTotalLength();
            path
                .attr('stroke-dasharray', totalLength + ' ' + totalLength)
                .attr('stroke-dashoffset', totalLength)
                .transition()
                .duration(2000)
                .attr('stroke-dashoffset', 0);

            // Puntos en la l칤nea
            g.selectAll('.dot')
                .data(salesData)
                .enter()
                .append('circle')
                .attr('class', 'dot')
                .attr('cx', d => x(d.month) + x.bandwidth() / 2)
                .attr('cy', d => y(d.users))
                .attr('r', 0)
                .on('mouseover', function(event, d) {
                    d3.select(this)
                        .transition()
                        .duration(100)
                        .attr('r', 8);
                    showTooltip(event, `<strong>${d.month}</strong><br>Usuarios: ${d.users.toLocaleString()}`);
                })
                .on('mouseout', function() {
                    d3.select(this)
                        .transition()
                        .duration(100)
                        .attr('r', 5);
                    hideTooltip();
                })
                .transition()
                .duration(500)
                .delay((d, i) => i * 100 + 1000)
                .attr('r', 5);
        }

        // Inicializar dashboard
        function initDashboard() {
            createStatsCards();
            createBarChart();
            createPieChart();
            createLineChart();
        }

        // Ejecutar cuando el DOM est칠 listo
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>
